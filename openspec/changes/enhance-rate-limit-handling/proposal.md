# 变更：增强速率限制处理与配额管理

## 为什么

用户在使用 AI 代理时频繁遇到 429（速率限制）错误，导致工作流程中断。当前的重试逻辑过于简单（仅 3 次尝试，无延迟），缺乏智能退避、实时配额可视化和预请求检查。这导致了糟糕的用户体验和不必要的 API 调用浪费。

## 变更内容

### 后端（代理服务）
- **指数退避与抖动**：实现智能重试逻辑，支持可配置延迟
- **预请求配额检查**：在发送请求前检查账号配额；若已耗尽则自动切换
- **请求速率追踪**：本地追踪每分钟请求数（RPM）和每分钟令牌数（TPM）

### 前端（UI）
- **实时配额仪表盘**：显示 RPM/TPM/RPD 使用情况及重置倒计时
- **账号健康指示器**：可视化指示器显示账号状态（健康、限流、耗尽）
- **自动切换通知**：账号自动切换时显示 Toast 通知

### 配置
- **重试配置**：用户可配置最大重试次数、初始延迟和最大延迟
- **配额阈值**：可配置自动切换触发的阈值

## 影响范围

- **受影响的规格**：`quota-management`（配额管理）、`proxy-service`（代理服务）
- **受影响的代码**：
  - `src/server/modules/proxy/proxy.service.ts` - 添加退避逻辑
  - `src/server/modules/proxy/token-manager.service.ts` - 增强 RPM 追踪
  - `src/services/CloudMonitorService.ts` - 添加实时配额轮询
  - `src/routes/proxy.tsx` - 添加配额仪表盘 UI
  - `src/types/config.ts` - 添加重试配置模式
