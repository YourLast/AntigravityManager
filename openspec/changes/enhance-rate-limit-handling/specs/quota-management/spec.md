## 新增需求

### 需求：实时配额仪表盘

系统应在代理页面显示实时配额仪表盘，包含：
- 每个账号的当前每分钟请求数（RPM）使用情况
- 每日请求数（RPD）使用情况及剩余配额
- 配额重置时间倒计时
- 每个账号的可视化健康指示器（健康、警告、耗尽）

#### 场景：用户查看配额仪表盘
- **当** 用户导航到代理页面
- **则** 配额仪表盘显示所有活跃账号的当前使用情况
- **并且** 使用数字每 5 秒实时更新

#### 场景：账号达到警告阈值
- **当** 账号配额低于 20%
- **则** 账号健康指示器变为黄色/警告状态
- **并且** 账号卡片上显示"低配额"徽章

#### 场景：账号已耗尽
- **当** 账号配额低于 5%
- **则** 账号健康指示器变为红色/危急状态
- **并且** 系统自动切换到下一个健康账号

---

### 需求：配额重置倒计时

系统应显示每个账号距离配额重置的剩余时间。

#### 场景：显示重置倒计时
- **当** 配额仪表盘可见时
- **则** 每个账号显示倒计时（如"4小时32分钟后重置"）
- **并且** 倒计时每分钟更新

#### 场景：配额重置
- **当** 到达配额重置时间
- **则** 系统从 API 刷新配额数据
- **并且** 用新配额值更新仪表盘

---

### 需求：预请求配额验证

系统应在发送 API 请求前检查本地配额估算。

#### 场景：配额充足
- **当** 即将发送请求
- **并且** 当前账号估算配额 > 20%
- **则** 请求正常进行

#### 场景：配额不足触发自动切换
- **当** 即将发送请求
- **并且** 当前账号估算配额 < 20%
- **则** 系统在发送前切换到下一个健康账号
- **并且** 在应用日志中记录切换事件
